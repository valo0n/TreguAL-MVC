@{
    Layout = "_Layout";
}

<div class="flex flex-col min-h-screen md:flex-row">

    @await Html.PartialAsync("~/Views/Partials/_SidebarAdmin.cshtml")

    <div class="flex-1 flex flex-col">

        @await Html.PartialAsync("~/Views/Partials/_Header.cshtml")

        <div class="p-8 flex-1">

            <!-- Search & Sort -->
            <div class="flex flex-col md:flex-row md:justify-between md:items-center
                        mb-6 space-y-4 md:space-y-0 md:ml-7 md:mr-7">

                <input id="searchInput"
                       type="text"
                       placeholder="Search by Business Name or Email"
                       class="text-sm border px-4 py-2 rounded-md w-full md:w-64" />

                <select id="sortSelect"
                        class="border px-4 py-2 rounded-md w-full md:w-auto">
                    <option value="user_ID-asc">ID (Asc)</option>
                    <option value="user_ID-desc">ID (Desc)</option>
                    <option value="business_Name-asc">Business Name (A-Z)</option>
                    <option value="business_Name-desc">Business Name (Z-A)</option>
                    <option value="email-asc">Email (A-Z)</option>
                    <option value="email-desc">Email (Z-A)</option>
                    <option value="date-asc">Register Date (Oldest)</option>
                    <option value="date-desc">Register Date (Newest)</option>
                </select>
            </div>

            <!-- TABLE -->
            <div class="overflow-x-auto overflow-y-auto max-h-[500px]
                        md:ml-10 md:mr-10 lg:ml-7 lg:mr-7 border border-gray-300">

                <table class="min-w-full border-collapse">
                    <thead class="bg-[#112D4E] text-white sticky top-0">
                        <tr>
                            <th class="p-3">ID</th>
                            <th class="p-3">Business Name</th>
                            <th class="p-3">Business Number</th>
                            <th class="p-3">Email</th>
                            <th class="p-3">Phone Number</th>
                            <th class="p-3">Address</th>
                            <th class="p-3">Transit Number</th>
                            <th class="p-3">Register Date</th>
                            <th class="p-3">Actions</th>
                        </tr>
                    </thead>
                    <tbody id="usersTable"></tbody>
                </table>
            </div>
        </div>

        <!-- PAGINATION -->
        <div id="pagination"
             class="flex justify-center items-center space-x-4 mt-6 mb-8 hidden">
            <button id="prevBtn"
                    class="px-3 py-2 rounded bg-[#112D4E] text-white">
                Previous
            </button>
            <p id="pageInfo" class="text-sm"></p>
            <button id="nextBtn"
                    class="px-3 py-2 rounded bg-[#112D4E] text-white">
                Next
            </button>
        </div>

        <!-- FOOTER -->
        <div id="footerSummary"
             class="bg-[#112D4E] text-white p-2 rounded-md flex justify-center
                    text-lg font-semibold mt-auto md:ml-10 md:mr-10
                    lg:ml-15 lg:mr-15 md:mb-8 hidden">
            <p id="totalUsers"></p>
        </div>
    </div>
</div>

<!-- CONFIRM DELETE MODAL -->
<div id="confirmModal"
     class="fixed inset-0 flex items-center justify-center z-50 hidden md:ml-65">
    <div class="bg-white p-6 rounded-lg text-center space-y-4
                w-96 shadow-lg border border-[#112D4E]">
        <div class="text-red-600 text-4xl">!</div>
        <h2 class="text-xl font-semibold">
            Are you sure you want to delete this user?
        </h2>
        <div class="flex justify-center space-x-4 mt-4">
            <button onclick="confirmDelete()"
                    class="bg-red-600 text-white px-6 py-2 rounded hover:bg-red-700">
                Yes, delete
            </button>
            <button onclick="closeConfirm()"
                    class="border border-gray-400 px-6 py-2 rounded hover:bg-gray-100">
                Cancel
            </button>
        </div>
    </div>
</div>

<script src="~/js/components/see-users.js"></script>
