@{
    Layout = "_Layout";
}

<div class="flex flex-col min-h-screen md:flex-row">

    @await Html.PartialAsync("~/Views/Partials/_SidebarUser.cshtml")

    <div class="flex-1 p-4 md:p-0 flex flex-col">

        @await Html.PartialAsync("~/Views/Partials/_Header.cshtml")

        <!-- Search & Sort -->
        <div class="flex flex-col mt-4 md:flex-row md:items-center md:justify-between mb-6
                    space-y-4 md:space-y-0 md:ml-10 md:mr-10 lg:ml-15 lg:mr-15 lg:mt-5">

            <input id="searchInput"
                   type="text"
                   placeholder="Search"
                   class="border px-4 py-2 rounded-md w-full md:w-40" />

            <div class="flex flex-col md:flex-row md:space-x-4 space-y-4 md:space-y-0
                        items-center w-full md:w-auto">

                <select id="sortSelect"
                        class="border px-4 py-2 rounded-md w-full md:w-auto">
                    <option value="localId-Ascending">ID (Ascending)</option>
                    <option value="localId-Descending">ID (Descending)</option>
                    <option value="product_Name-Ascending">Name (A-Z)</option>
                    <option value="product_Name-Descending">Name (Z-A)</option>
                    <option value="category_Name-Ascending">Category (A-Z)</option>
                    <option value="category_Name-Descending">Category (Z-A)</option>
                    <option value="stock_Quantity-Ascending">Stock (Low to High)</option>
                    <option value="stock_Quantity-Descending">Stock (High to Low)</option>
                    <option value="price-Ascending">Price (Low to High)</option>
                    <option value="price-Descending">Price (High to Low)</option>
                </select>

                <a href="/StockPages/AddProduct"
                   class="bg-[#112D4E] text-white px-6 py-2 rounded-md
                          hover:bg-[#0b213f] w-full md:w-auto text-center">
                    Add Product
                </a>
            </div>
        </div>

        <!-- Table -->
        <div class="overflow-x-auto flex-grow md:ml-10 md:mr-10 lg:ml-15 lg:mr-15">
            <table class="min-w-full border-collapse border border-gray-300">
                <thead class="bg-[#112D4E] text-white">
                    <tr>
                        <th class="p-3">ID</th>
                        <th class="p-3">Product</th>
                        <th class="p-3">Description</th>
                        <th class="p-3">Category</th>
                        <th class="p-3">Stock Quantity</th>
                        <th class="p-3">Price</th>
                        <th class="p-3">Actions</th>
                    </tr>
                </thead>
                <tbody id="productTable"></tbody>
            </table>
        </div>

        <!-- Pagination -->
        <div class="flex justify-center items-center space-x-4 mt-6">
            <button id="prevBtn" class="px-3 py-2 rounded">Previous</button>
            <p id="pageInfo" class="text-sm"></p>
            <button id="nextBtn" class="px-3 py-2 rounded">Next</button>
        </div>

        <!-- Summary -->
        <div class="bg-[#112D4E] text-white p-2 rounded-md flex flex-col md:flex-row
                    justify-around items-center text-lg font-semibold mt-8
                    space-y-4 md:space-y-0 md:ml-10 md:mr-10 lg:ml-15 lg:mr-15 md:mb-8">
            <p id="totalProducts"></p>
            <p id="totalStock"></p>
            <p id="totalPrice"></p>
        </div>
    </div>
</div>

<!-- DELETE MODAL -->
<div id="deleteModal"
     class="fixed inset-0 flex items-center justify-center z-50 hidden md:ml-65">
    <div class="bg-white p-6 rounded-lg text-center space-y-4 w-96
                shadow-lg border border-[#112D4E]">
        <div class="text-red-600 text-4xl">!</div>
        <h2 class="text-xl font-semibold">
            Are you sure you want to delete this product?
        </h2>
        <div class="flex justify-center space-x-4 mt-4">
            <button onclick="confirmDelete()"
                    class="bg-red-600 text-white px-6 py-2 rounded hover:bg-red-700">
                Yes, I'm sure
            </button>
            <button onclick="closeDeleteModal()"
                    class="border border-gray-400 px-6 py-2 rounded hover:bg-gray-100">
                No, cancel
            </button>
        </div>
    </div>
</div>

<script src="~/js/components/product.js"></script>
